<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4STUD Friendly Dog Dating App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap" rel="stylesheet">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script> -->

    <script src="https://kit.fontawesome.com/591bfecad5.js" crossorigin="anonymous"></script>


    <link rel="stylesheet" href="/css/style2.css">
    <script id="search-js" defer src="https://api.mapbox.com/search-js/v1.0.0-beta.11/web.js">
    </script>
    <script>
        const script = document.getElementById('search-js');
        script.onload = function () {
            mapboxsearch.autofill({
                accessToken: 'pk.eyJ1Ijoid2Fza2k4NyIsImEiOiJjbDNpb2IzcmgwNmNhM2pxaTd2Yng4dzhsIn0.rPl4BmHMTNbtPkygVe99Qw'
            });
        };
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Google Maps JavaScript library -->
    <script
        src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyAo_DzJWxxcBgysvdBKFY1vOHdhUojhi7Y"></script>


    <title>Document</title>
</head>

<body>
    <%- include('../partials/navbar') %>

        <!-- <a href="/adds">Ads</a>
        <a href="/chat">Chat </a>
        <% if(!currentUser){ %>
            <a href="/login">Login</a>
            <a href="/register">Register</a>
            <% } else { %>
                <a href="/logout">Logout </a>

                <% } %>  -->
        <main>
            <%- include('../partials/flash') %>
                <%- body -%>
        </main>
        <footer class="footer"></footer>
        <script>
            var searchInput = 'search_input';

            $(document).ready(function () {
                var autocomplete;
                autocomplete = new google.maps.places.Autocomplete((document.getElementById(searchInput)), {
                    types: ['(cities)'],
                    componentRestrictions: {
                        country: "UK"
                    }
                });


                google.maps.event.addListener(autocomplete, 'place_changed', function () {
                    var near_place = autocomplete.getPlace();
                    console.log(near_place);
                    const lat = near_place.geometry.location.lat()
                    const long = near_place.geometry.location.lng()
                    if (near_place.address_components[0].long_name) {
                        let el = document.querySelector('.city')

                        console.log(el)

                        el.value = near_place.address_components[0].long_name
                        document.querySelector('.city').firstChild.value = [near_place.address_components[0].long_name, lat, long]
                        document.querySelector('.city-label').textContent = near_place.address_components[0].long_name



                        el.click()
                    }

                });
                // console.log(autocomplete.address_components)
            });
        </script>
        <script>
            const closeElement = document.querySelector('.menu-close')
            const menuElement = document.querySelector('.menu')
            const hamburgerElement = document.querySelector('.hamburger')
            const flashElement = document.querySelector('.flash')

            function toggleElement(el) {
                el.classList.toggle('hide')




            }
            closeElement.addEventListener('click', function () {

                toggleElement(menuElement)

            })
            hamburgerElement.addEventListener('click', function () {
                toggleElement(menuElement)
            })
            flashElement.addEventListener('click', function () {
                toggleElement(flashElement)
            })
        </script>
</body>

</html>